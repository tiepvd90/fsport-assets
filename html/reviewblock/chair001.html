<style>
  .review-item {
    margin-top: 16px;
  }

  .review-header {
    font-size: 13px;
    font-weight: 500;
    color: #444;
    margin-bottom: 4px;
  }

  .review-stars {
    color: #FFD700;
    font-size: 14px;
    margin-bottom: 4px;
  }

  .review-text {
    font-size: 14px;
    color: #222;
    line-height: 1.5;
    margin-bottom: 6px;
  }

  .review-images {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
    margin-top: 6px;
    box-sizing: border-box;
  }

  .review-image {
    width: calc(25% - 4.5px); /* 4 ảnh mỗi hàng */
    aspect-ratio: 1 / 1;
    object-fit: cover;
    border-radius: 6px;
    box-sizing: border-box;
  }
</style>

<h2 style="font-size: 16px; font-weight: bold; margin-bottom: 12px;">
  Review Sản Phẩm
</h2>

<div id="review1" class="review-item"></div>
<div id="review2" class="review-item"></div>

<script>
  window.loai = "chair";
  window.productPage = "chair001";

  const reviewPool = [
    { name: "Linh N. (Hà Nội)", text: "Mình mua ghế cho bé ngồi học bài, thấy bé ngồi đúng tư thế hơn hẳn, không bị cúi sát vở như trước. Rất đáng tiền!" },
    { name: "Hương T. (HCM)", text: "Là mẹ bỉm hay phải bế con cho ti, mình rất thích ghế này vì tựa lưng êm, đỡ đau vai gáy. Ngồi lâu không khó chịu như ghế nhựa." },
    { name: "Minh P. (Đà Nẵng)", text: "Bố mình bị đau lưng kinh niên, từ ngày có ghế này ngồi xem TV thấy cụ khen suốt. Thiết kế thực sự hợp lý cho người lớn tuổi." },
    { name: "Trí L. (Hải Phòng)", text: "Làm văn phòng ở nhà, mình dùng ghế bệt này ngồi làm việc suốt cả buổi chiều mà không thấy ê mỏi như trước. Rất hài lòng." },
    { name: "Thảo V. (Nghệ An)", text: "Công việc livestream phải ngồi liên tục, đổi qua ghế này thấy lưng đỡ mỏi hơn rõ rệt. Mềm, nhưng vẫn giữ dáng tốt." },
    { name: "Vinh N. (TP.HCM)", text: "Shop đóng gói chắc chắn, giao hàng nhanh. Mình đặt sáng hôm trước thì trưa hôm sau đã nhận được, ngồi thử là thích liền!" },
    { name: "Ngọc A. (Bình Dương)", text: "Tựa lưng ôm rất vừa, đệm mềm mà không bị lún. Dùng cả ngày làm việc vẫn thấy êm, không bị đau hông như mấy loại gối rời." },
    { name: "Khánh L. (Hà Nội)", text: "Nhà mình nhỏ nên mua 4 cái cho cả nhà ngồi ăn cơm dưới sàn. Nhẹ, dễ xếp gọn mà ngồi vẫn vững chắc, tiện cực kỳ." },
    { name: "Lan T. (Quảng Ninh)", text: "Thiết kế công thái học đúng nghĩa — ngồi thẳng lưng, dễ chịu. Trước hay ngồi vẹo vai giờ không còn nữa." },
    { name: "Tùng B. (Đà Lạt)", text: "Đặt mua 3 chiếc để dùng trong phòng làm việc tại homestay, khách nào ngồi cũng khen. Ghế đẹp, ngồi êm mà không bị sụp." },
    { name: "My D. (HCM)", text: "Lần đầu mua ghế kiểu này, ban đầu hơi lo vì giá khá cao, nhưng ngồi thử vài hôm thấy đúng là đáng tiền. Lưng nhẹ hẳn!" },
    { name: "Phúc K. (Huế)", text: "Ghế không cần lắp đặt, mở ra là dùng ngay. Rất tiện, nhất là với người không quen ráp đồ nội thất như mình." },
    { name: "Mai H. (Hà Nội)", text: "Trước bé học online toàn ngồi co ro, giờ có ghế này bé ngồi thẳng lưng, nhìn thấy rõ sự thay đổi tư thế. Rất an tâm." },
    { name: "Tuấn D. (Cần Thơ)", text: "Thích ghế này vì không cần bàn ghế lớn mà vẫn có chỗ ngồi đúng tư thế. Đỡ lưng, đỡ vai gáy, ngồi trên sàn cũng thoải mái." },
    { name: "Chi N. (Vũng Tàu)", text: "Mình mua cho mẹ ngồi làm việc vặt ở nhà. Mẹ bảo nhẹ, dễ di chuyển, ngồi lâu vẫn thấy dễ chịu hơn ghế gỗ cũ." },
    { name: "Long V. (Bắc Ninh)", text: "Tư thế ngồi rất tự nhiên, không bị gò bó. Thiết kế đơn giản nhưng chắc chắn. Mua thêm chiếc nữa để trong phòng ngủ." },
    { name: "Yến M. (Thanh Hóa)", text: "Ghế ngồi yên, không trượt, không gây tiếng kêu. Phù hợp với sàn gạch trơn, không lo bị trượt khi bé con nghịch nhiều." },
    { name: "Khoa H. (Tây Ninh)", text: "Học bài cả buổi tối mà không bị mỏi cổ hay gù lưng. Ghế giúp mình duy trì tư thế ngồi đúng mà vẫn rất thoải mái." },
    { name: "Trang L. (Hà Nam)", text: "Ghế gọn, đặt đâu cũng được. Mình dùng ở phòng khách để đọc sách, vừa tiện vừa đẹp. Không chê được điểm nào." },
    { name: "Hậu N. (Biên Hòa)", text: "Rất hài lòng với lớp đệm – êm mà không bị lún. Ghế không ọp ẹp như mấy loại ghế ngồi bệt bình thường. Đúng là ghế cao cấp!" }
  ];

  function getUniqueRandomIndices(count, max) {
    const set = new Set();
    while (set.size < count) {
      set.add(Math.floor(Math.random() * max));
    }
    return Array.from(set);
  }

  function getRandomReviews() {
    const indices = getUniqueRandomIndices(2, reviewPool.length);
    return [reviewPool[indices[0]], reviewPool[indices[1]]];
  }

  function getReviewImages() {
    const indices = getUniqueRandomIndices(8, 20).map(i => i + 1);
    return {
      review1: indices.slice(0, 4),
      review2: indices.slice(4, 8)
    };
  }

  function renderReview(containerId, name, text, imageNums) {
    const loai = window.loai;
    const productPage = window.productPage;
    const container = document.getElementById(containerId);

    const imagesHTML = imageNums.map(n =>
      `<img src="/assets/images/thumb/reviews/${loai}/${productPage}/${n}.webp" alt="Ảnh review" class="review-image">`
    ).join("");

    container.innerHTML = `
      <div class="review-header">
        <span class="review-name">${name}</span>
      </div>
      <div class="review-stars">★★★★★</div>
      <div class="review-text">${text}</div>
      <div class="review-images">${imagesHTML}</div>
    `;
  }

  function initReviews() {
    const [r1, r2] = getRandomReviews();
    const { review1, review2 } = getReviewImages();

    renderReview("review1", r1.name, r1.text, review1);
    renderReview("review2", r2.name, r2.text, review2);
  }

  initReviews();
</script>
