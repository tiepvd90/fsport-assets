<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0,
             maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>X√°c th·ª±c ch√≠nh h√£ng F-Sport</title>
  <style>
    /* === Reset & fix zoom iOS/Android === */
    html, body, input, textarea, select {
      -webkit-text-size-adjust: 100%;
      touch-action: pan-y;  /* Cho ph√©p cu·ªôn d·ªçc, v·∫´n ch·∫∑n zoom */
      overscroll-behavior-y: contain; /* Cho ph√©p refresh tr√™n mobile */
      overscroll-behavior: none;
      font-family: 'Be Vietnam Pro', sans-serif;
      font-size: 16px;
      line-height: 1.5;
      color: #222;
    }

    body {
      margin: 0;
      background: #fff;
      padding: 0 16px 60px;
      max-width: 720px;
      margin-inline: auto;
    }

    input, textarea, select { font-size: 16px !important; }

    /* ==== POPUP x√°c th·ª±c ==== */
    .verify-overlay {
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,0.6);
      backdrop-filter: blur(6px);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      animation: fadeIn .4s ease forwards;
    }
    @keyframes fadeIn {from{opacity:0;} to{opacity:1;}}

    .verify-card {
      background: #fff;
      border-radius: 14px;
      padding: 32px 28px;
      max-width: 340px;
      width: 90%;
      text-align: center;
      box-shadow: 0 6px 24px rgba(0,0,0,0.1);
    }

    .verify-loading {
      width: 70px; height: 70px;
      border: 4px solid #4caf50;
      border-top-color: transparent;
      border-radius: 50%;
      margin: 0 auto 16px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {to{transform:rotate(360deg);}}

    .verify-icon {
      width: 70px; height:70px;
      background: linear-gradient(135deg,#4CAF50,#2E7D32);
      border-radius:50%;
      color:#fff;
      font-size:36px;
      line-height:70px;
      display:none;
      margin:0 auto 16px;
    }

    .verify-message {font-weight:600;margin-bottom:6px;}
    .verify-sub {font-size:13px;color:#666;margin-bottom:20px;}
    .verify-btn {
      background:#000;
      color:#fff;
      border:none;
      border-radius:6px;
      padding:10px 24px;
      font-weight:600;
      cursor:pointer;
      transition:.25s;
      display:none;
    }
    .verify-btn:hover {opacity:.85;}

    /* ==== N·ªôi dung ==== */
    h2 {
      text-align:center;
      font-size:20px;
      margin:32px 0 16px;
    }

    img {
      width:100%;
      display:block;
      border-radius:8px;
      margin-bottom:16px;
    }

    table {
      width:100%;
      border-collapse:collapse;
      margin: 0 0 18px;
    }
    td {
      border:1px solid #000;
      padding:10px;
      font-size:14px;
    }
    td:first-child {
      font-weight:600;
      background:#f8f8f8;
      width:40%;
    }

    h3 {
      font-size:17px;
      margin:28px 0 10px;
      text-align:left;
    }

    form { margin-top:12px; }
    input {
      width:100%;
      border:1px solid #ccc;
      border-radius:4px;
      padding:10px;
      margin-bottom:10px;
    }
    input:focus {outline:none;border-color:#000;}

    button {
      background:#000;
      color:#fff;
      font-weight:600;
      border:none;
      border-radius:6px;
      padding:12px 0;
      width:100%;
      cursor:pointer;
      transition:opacity .25s;
      font-size:15px;
    }
    button:hover {opacity:.85;}

    .note {
      font-size:14px;
      margin-top:16px;
      color:#333;
    }
    .note strong {color:#000;}

    /* ==== Popup upsell (v3 - flow x√°c nh·∫≠n) ==== */
.popup-success {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10000;
}

.popup-box {
  background: #fff;
  border-radius: 14px;
  text-align: center;
  max-width: 360px;
  width: 92%;
  box-shadow: 0 6px 24px rgba(0,0,0,0.25);
  overflow: hidden;
  animation: fadeInUp .4s ease;
}
@keyframes fadeInUp {from{transform:translateY(10px);opacity:0;}to{transform:translateY(0);opacity:1;}}

/* Ph·∫ßn tr√™n */
.popup-top {
  padding: 20px 18px 16px;
  background: #f9f9f9;
  border-bottom: 1px solid #eee;
}
.popup-top h4 {
  margin: 0 0 8px;
  font-size: 17px;
  color: #111;
}
.popup-top p {
  font-size: 14px;
  color: #444;
  margin: 0;
}

/* Ph·∫ßn d∆∞·ªõi */
.popup-bottom {
  padding: 18px 20px 22px;
}
.upsell-combined {
  font-size: 14px;
  color: #111;
  font-weight: 500;
  margin-bottom: 10px;
}
.popup-bottom img {
  width: 110px;
  margin: 0 auto 10px;
  border-radius: 10px;
  display: block;
}
.combo-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  margin-bottom: 14px;
}
.combo-btn {
  background: #fdfdfd;
  border: 1px solid #ccc;
  border-radius: 8px;
  padding: 10px 0;
  font-size: 13px;
  cursor: pointer;
  transition: 0.25s;
  color: #111;
}
.combo-btn.active {
  border: 2px solid #e53935;
  background: #fff5f5;
}
.combo-label {
  font-weight: 600;
  display: block;
  margin-bottom: 2px;
}
.combo-btn .old {
  display: inline-block;
  font-size: 12px;
  color: #666;
  text-decoration: line-through;
  margin-right: 4px;
}
.combo-btn .new {
  font-size: 14px;
  color: #e53935;
  font-weight: 600;
}

.action-row {
  display: flex;
  gap: 8px;
}
.confirm-btn {
  flex: 1;
  background: #e53935;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 10px 0;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
  opacity: 0.6;
}
.confirm-btn.enabled {
  opacity: 1;
}
.close-btn {
  flex: 1;
  background: #000;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 10px 0;
  font-weight: 600;
  cursor: pointer;
  font-size: 14px;
}
.close-btn:hover,
.confirm-btn:hover {opacity: .85;}

  </style>
</head>

<body>

  <!-- ==== POPUP X√ÅC NH·∫¨N ==== -->
  <div class="verify-overlay" id="verifyPopup">
    <div class="verify-card">
      <div class="verify-loading" id="loadingIcon"></div>
      <div class="verify-icon" id="checkIcon">‚úì</div>
      <div class="verify-message" id="verifyMessage">
        ƒêang x√°c nh·∫≠n ch√≠nh h√£ng F-SPORT...
      </div>
      <div class="verify-sub" id="verifySub"></div>
      <button class="verify-btn" id="continueBtn" onclick="showProduct()">TI·∫æP T·ª§C</button>
    </div>
  </div>

  <!-- ==== N·ªòI DUNG ==== -->
  <main id="productSection" style="display:none;">
    <h2>V·ª¢T ƒê√öC NGUY√äN KH·ªêI R·ªíNG ƒêEN</h2>

    <img src="/assets/images/gallery/pickleball/firstpickleball/rongden.webp"
         alt="V·ª£t Pickleball R·ªìng ƒêen">

    <table>
      <tr><td>Chi·ªÅu cao</td><td>42 cm</td></tr>
      <tr><td>Chi·ªÅu ngang</td><td>18,5 cm</td></tr>
      <tr><td>ƒê·ªô d√†y</td><td>1,4 cm</td></tr>
      <tr><td>C√¢n n·∫∑ng</td><td>220 g</td></tr>
      <tr><td>B·ªÅ m·∫∑t</td><td>Carbon fibre T700 nh√°m</td></tr>
      <tr><td>L√µi</td><td>T·ªï ong (Honeycomb Core)</td></tr>
    </table>

    <p>
      V·ª£t Pickleball ƒê√∫c Nguy√™n Kh·ªëi R·ªìng ƒêen ch√≠nh h√£ng QIS ƒë∆∞·ª£c ph√¢n ph·ªëi b·ªüi c√¥ng ty TNHH F-Sport.
      Thi·∫øt k·∫ø nguy√™n kh·ªëi v·ªõi b·ªÅ m·∫∑t carbon T700 nh√°m gi√∫p tƒÉng ƒë·ªô ·ªïn ƒë·ªãnh v√† c·∫£m gi√°c ki·ªÉm so√°t b√≥ng trong t·ª´ng pha ƒë√°nh.
    </p>

    <h3>CH√çNH S√ÅCH B·∫¢O H√ÄNH</h3>
    <p>
      S·∫£n ph·∫©m ƒë∆∞·ª£c b·∫£o h√†nh 1 th√°ng k·ªÉ t·ª´ ng√†y k√≠ch ho·∫°t b·∫£o h√†nh ƒëi·ªán t·ª≠ ƒë·ªëi v·ªõi c√°c l·ªói s·∫£n xu·∫•t nh∆∞ bong vi·ªÅn, g√£y n·ª©t v·∫≠t li·ªáu ho·∫∑c l·ªói c·∫•u tr√∫c
      (kh√¥ng √°p d·ª•ng cho tr∆∞·ªùng h·ª£p r∆°i, va ƒë·∫≠p ho·∫∑c s·ª≠ d·ª•ng sai c√°ch).
    </p>

    <p class="note">
      <strong>Qu√Ω kh√°ch vui l√≤ng s·ª≠ d·ª•ng s·ªë ƒëi·ªán tho·∫°i ƒë√£ ƒë·∫∑t h√†ng</strong> ƒë·ªÉ g·ª≠i y√™u c·∫ßu k√≠ch ho·∫°t b·∫£o h√†nh.
      H·ªá th·ªëng s·∫Ω ƒë·ªëi chi·∫øu th√¥ng tin ƒë∆°n h√†ng nh·∫±m x√°c th·ª±c quy·ªÅn l·ª£i b·∫£o h√†nh ch√≠nh h√£ng.
    </p>

    <form id="warrantyForm">
      <input type="text" id="name" name="name" placeholder="H·ªç v√† t√™n" required>
      <input type="tel" id="phone" name="phone" placeholder="S·ªë ƒëi·ªán tho·∫°i" required>
      <input type="email" id="email" name="email" placeholder="Email" required>
      <button type="submit">G·ª¨I Y√äU C·∫¶U K√çCH HO·∫†T</button>
    </form>
  </main>

  <!-- ==== POPUP UPSELL (v3) ==== -->
<div class="popup-success" id="successPopup">
  <div class="popup-box">
    
    <!-- Ph·∫ßn 1: Th√¥ng b√°o x√°c nh·∫≠n -->
    <div class="popup-top">
      <h4>‚úÖ F-SPORT ƒê√É NH·∫¨N TH√îNG TIN K√çCH HO·∫†T</h4>
      <p>
        Y√™u c·∫ßu c·ªßa anh/ch·ªã ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n.  
        Th√¥ng tin x√°c nh·∫≠n s·∫Ω ƒë∆∞·ª£c g·ª≠i qua email trong 24h t·ªõi.
      </p>
    </div>

    <!-- Ph·∫ßn 2: ∆Øu ƒë√£i upsell -->
    <div class="popup-bottom">
      <p class="upsell-combined">
        üéÅ ∆Øu ƒë√£i d√†nh ri√™ng cho kh√°ch h√†ng th√¢n thi·∫øt ‚Äì Gi·∫£m <strong>10%</strong> khi mua th√™m b√≥ng thi ƒë·∫•u <strong>F-SPORT PRO</strong>
      </p>

      <img src="/assets/images/gallery/pickleball/pickleball-ball/2.webp" alt="B√≥ng Pickleball F-Sport Pro">

      <div class="combo-grid">
        <button class="combo-btn" onclick="selectCombo(this, '3 qu·∫£',87,78.3)">
          <span class="combo-label">Mua 3 qu·∫£</span>
          <span class="old">87.000ƒë</span>
          <span class="new">78.300ƒë</span>
        </button>
        <button class="combo-btn" onclick="selectCombo(this, '6 qu·∫£',156,140.4)">
          <span class="combo-label">Mua 6 qu·∫£</span>
          <span class="old">156.000ƒë</span>
          <span class="new">140.400ƒë</span>
        </button>
        <button class="combo-btn" onclick="selectCombo(this, '9 qu·∫£',210,189)">
          <span class="combo-label">Mua 9 qu·∫£</span>
          <span class="old">210.000ƒë</span>
          <span class="new">189.000ƒë</span>
        </button>
        <button class="combo-btn" onclick="selectCombo(this, '12 qu·∫£',252,226.8)">
          <span class="combo-label">Mua 12 qu·∫£</span>
          <span class="old">252.000ƒë</span>
          <span class="new">226.800ƒë</span>
        </button>
      </div>

      <div class="action-row">
        <button class="confirm-btn" id="confirmUpsell" disabled>X√ÅC NH·∫¨N</button>
        <button class="close-btn" onclick="closeSuccess()">ƒê√ìNG</button>
      </div>
    </div>
  </div>
</div>
  <script>
    /* Ch·∫∑n zoom iOS */
    ['gesturestart','gesturechange','gestureend','dblclick'].forEach(evt=>{
      document.addEventListener(evt,e=>e.preventDefault(),{passive:false});
    });

    /* Popup x√°c nh·∫≠n ch√≠nh h√£ng */
    window.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => {
        document.getElementById("loadingIcon").style.display = "none";
        document.getElementById("checkIcon").style.display = "block";
        document.getElementById("verifyMessage").innerHTML =
          "<strong>X√ÅC NH·∫¨N CH√çNH H√ÉNG F-SPORT</strong>";
        document.getElementById("verifySub").textContent = "·∫§n Ti·∫øp T·ª•c ƒê·ªÉ G·ª≠i Y√™u C·∫ßu";
        document.getElementById("continueBtn").style.display = "inline-block";
      }, 1000);
    });

    function showProduct(){
      document.getElementById("verifyPopup").style.display="none";
      document.getElementById("productSection").style.display="block";
      window.scrollTo({top:0,behavior:"smooth"});
    }

    /* G·ª≠i d·ªØ li·ªáu b·∫£o h√†nh */
    document.getElementById("warrantyForm").addEventListener("submit", async e => {
      e.preventDefault();
      const name=document.getElementById("name").value.trim();
      const phone=document.getElementById("phone").value.trim();
      const email=document.getElementById("email").value.trim();
      const payload={
        type:"warranty",
        product:"V·ª£t R·ªìng ƒêen Pickleball",
        name,phone,email,
        date:new Date().toLocaleString("vi-VN"),
        source:"X√°c th·ª±c ch√≠nh h√£ng - fun-sport.co"
      };
      try{
        await fetch("https://hook.eu2.make.com/dxl7ngaypediyxwb8g7jir704356vhjt",{
          method:"POST",
          headers:{"Content-Type":"application/json"},
          body:JSON.stringify(payload)
        });
        document.getElementById("successPopup").style.display="flex";
        e.target.reset();
      }catch(err){alert("Kh√¥ng th·ªÉ g·ª≠i th√¥ng tin, vui l√≤ng th·ª≠ l·∫°i sau.");}
    });

    /* G·ª≠i upsell */
    async function sendUpsell(combo,original,discount){
      const payload={
        type:"upsell",
        upsell_product:"B√≥ng FSport PRO",
        combo,
        price:discount*1000,
        original_price:original*1000,
        name:document.getElementById("name").value,
        phone:document.getElementById("phone").value,
        email:document.getElementById("email").value,
        date:new Date().toLocaleString("vi-VN"),
        source:"Upsell sau k√≠ch ho·∫°t b·∫£o h√†nh"
      };
      await fetch("https://hook.eu2.make.com/dxl7ngaypediyxwb8g7jir704356vhjt",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify(payload)
      });
      alert("C·∫£m ∆°n anh/ch·ªã! ∆Øu ƒë√£i ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n.");
      closeSuccess();
    }

    function closeSuccess(){
      document.getElementById("successPopup").style.display="none";
    }
  </script>
</body>
</html>
