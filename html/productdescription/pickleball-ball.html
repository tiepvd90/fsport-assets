<style>
  /* === VIDEO KHUNG TỶ LỆ 9:16 === */
  .desc-video {
    position: relative;
    width: 100%;
    padding-top: 177.78%; /* 9:16 ratio */
    overflow: hidden;
    border-radius: 8px;
    margin-bottom: 16px;
    display: block;
  }

  .desc-video iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: none;
  }

  /* === TEXT & LAYOUT === */
  .desc-text {
    font-size: 12px;
    line-height: 1.6;
    color: #222;
    font-family: 'Be Vietnam Pro', sans-serif;
  }

  .desc-title {
    font-size: 14px;
    font-weight: bold;
    margin: 12px 0 8px;
  }

  .desc-toggle-btn {
    margin-top: 16px;
    background: none;
    border: none;
    font-weight: bold;
    color: #000;
    cursor: pointer;
    padding: 10px 0;
    font-size: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    width: 100%;
    font-family: 'Be Vietnam Pro', sans-serif;
  }

  .desc-toggle-btn .arrow {
    font-size: 12px;
    display: inline-block;
    transform: translateY(1px);
  }

  .desc-fade {
    height: 60px;
    background: linear-gradient(to top, #fff, transparent);
    margin-top: -60px;
    pointer-events: none;
  }

  .hidden {
    display: none;
  }
</style>

<!-- 🎬 VIDEO 9:16 -->
<div class="desc-video">
  <iframe
    id="pickleVideo"
    src="https://www.youtube.com/embed/hCxL7COxp3k?enablejsapi=1&playsinline=1&rel=0&modestbranding=1"
    allow="autoplay; encrypted-media"
    allowfullscreen
  ></iframe>
</div>

<h2 class="desc-title">Mô Tả Bóng Pickleball FSport</h2>

<div id="descShort" class="desc-text">
  <p><strong>Bóng Pickleball Dạ Quang FSport PRO – Tiêu Chuẩn Thi Đấu</strong></p>
  <p>Bóng chất lượng cao dành cho tập luyện và thi đấu, độ bền vượt trội, bay ổn định và cảm giác chơi mượt mà. Phù hợp cho người chơi phong trào đến chuyên nghiệp.</p>
</div>

<div id="descFull" class="desc-text hidden">
  <p>✔️ Bóng Pickleball FSport là lựa chọn lý tưởng cho cả <strong>tập luyện chuyên sâu</strong> lẫn <strong>thi đấu ngoài trời</strong>. Sản phẩm đạt tiêu chuẩn quốc tế với độ nảy ổn định và khả năng chịu va đập cực tốt.</p>

  <p><strong>🔍 Thông tin kỹ thuật:</strong><br>
  – Chất liệu: Nhựa PE cao cấp<br>
  – Kích thước: 74 mm<br>
  – Trọng lượng: 26 gr<br>
  – Cấu trúc: 40 lỗ</p>

  <p>💪 Độ bền cao và khả năng chống nứt tuyệt vời nhờ công nghệ <strong>đúc quay cao cấp</strong>.</p>
  <p>✅ Không dễ bị biến dạng khi sử dụng lâu dài, bóng giữ được độ nảy ổn định suốt thời gian chơi.</p>
  <p>🌱 Chất liệu PE thân thiện môi trường, không có mùi đặc biệt, an toàn khi sử dụng.</p>
  <p>🌀 Lỗ thiết kế dạng góc L cho cảm giác êm ái và giúp bóng bay ổn định hơn trong điều kiện ngoài trời.</p>
  <p>🎯 Đáp ứng tốt cả nhu cầu tập luyện thường xuyên và thi đấu thực chiến.</p>
</div>

<div class="desc-fade" id="descFade"></div>

<button id="toggleDesc" class="desc-toggle-btn">
  Xem Thêm <span class="arrow">&#x25BC;</span>
</button>

<script>
  /* ==== NÚT XEM THÊM / THU GỌN ==== */
  const toggleBtn = document.getElementById('toggleDesc');
  const descFull = document.getElementById('descFull');
  const fade = document.getElementById('descFade');

  toggleBtn.addEventListener('click', () => {
    const isHidden = descFull.classList.contains('hidden');
    descFull.classList.toggle('hidden');
    fade.style.display = isHidden ? 'none' : 'block';
    toggleBtn.innerHTML = isHidden
      ? 'Thu Gọn <span class="arrow">&#x25B2;</span>'
      : 'Xem Thêm <span class="arrow">&#x25BC;</span>';
  });

  /* ==== KHỞI TẠO VIDEO KHÔNG XUNG ĐỘT ==== */
  (function () {
    function initPickleVideo() {
      if (!window.YT || !YT.Player) return;
      new YT.Player('pickleVideo', {
        events: {
          onStateChange: function (e) {
            if (e.data === YT.PlayerState.PLAYING) {
              e.target.unMute();
              e.target.setVolume(100);
            }
          }
        }
      });
    }

    // Nếu YT đã có sẵn (FreeFlow hoặc trang khác đã nạp)
    if (window.YT && YT.Player) {
      initPickleVideo();
    } else {
      // Giữ hàm cũ nếu đã tồn tại
      const prev = window.onYouTubeIframeAPIReady;
      window.onYouTubeIframeAPIReady = function () {
        if (typeof prev === 'function') prev();
        initPickleVideo();
      };
      // Chỉ nạp script nếu chưa có
      if (![...document.scripts].some(s => s.src.includes('youtube.com/iframe_api'))) {
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        document.head.appendChild(tag);
      }
    }
  })();
</script>
